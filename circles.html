<!DOCTYPE html>
<html>
<head>
	<title>Circles</title>
	<!-- Load the Paper.js library -->
	<script type="text/javascript" src="node_modules/paper/dist/paper-full.js"></script>
	<link rel="stylesheet" type="text/css" href="circles.css">

	<!-- Define inlined PaperScript associate it with myCanvas -->
	<script type="text/paperscript" canvas="myCanvas">

		var circles = [];

		function createRandomPoint() {
			// Creates a Point object using the max width(x coordinate) and the max height(y coordinate) of the canvas' viewport.
			var maxPoint = new Point(view.size.width, view.size.height);
			// Generates a Point object with random numbers between 0 and 1 (not inclusive) for its x and y coordinates.
			var randomPoint = Point.random();
			// Creates a Point Object with its x and y coordinates between 0 and max width and max height respectively.
			var point = maxPoint * randomPoint;
			// Covert the x coordinate to an integer
			var x = Math.ceil(point.x);
			// Covert the y coordinate to an integer
			var y = Math.ceil(point.y);
			point.x = x;
			point.y = y;
			return point;
		}

		// Creates a small circle at random points of the window each time a key is pressed
		function onKeyDown() {
			var point = createRandomPoint();
			var newCircle = new Path.Circle(point, 500);
			newCircle.fillColor = 'teal';
			circles.push(newCircle);
		}

		// On page load, creates a big circle
		var animatedCircle = new Path.Circle(new Point(300, 300), 100);
		animatedCircle.fillColor = "yellow";

		//Takes care of what happens in each frame of the animation
		function onFrame() {
		  	// Looping through all the small circles and changing their fill color
			for(var i = 0; i < circles.length; i++) {
				circles[i].fillColor.hue += 1;
				circles[i].scale(.9);
			}
			// Change the fill color of the circle slightly by adding 1 to its hue:
			animatedCircle.fillColor.hue += 1;
			// Scale down the circle by 90% of what it was
			// animatedCircle.scale(.9);
		}
	</script>
</head>
<body>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>
